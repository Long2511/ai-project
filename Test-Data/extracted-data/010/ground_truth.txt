The diagnosis is pulmonary tuberculosis (TB), caused by Mycobacterium tuberculosis. The patient's social history of homelessness is a major risk factor for reactivation TB. His clinical presentation of constitutional symptoms (fever, weight loss) and respiratory symptoms (hemoptysis, breathlessness) is highly suggestive. The diagnosis is strongly supported by the classic chest X-ray findings of apical shadowing and cavitation. Confirmation is made by identifying acid-fast bacilli (Mycobacterium tuberculosis) in the sputum via Ziehl-Neelsen stain, culture, or molecular tests.